<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.7.5" />
<title>cyzil API documentation</title>
<meta name="description" content="Cyzil provides tools that enable quick and in-depth analysis of
sequence-sequence models, especially machine translation models. It contains
a Cython â€¦" />
<link href='https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.0/normalize.min.css' rel='stylesheet'>
<link href='https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/8.0.0/sanitize.min.css' rel='stylesheet'>
<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" rel="stylesheet">
<style>.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{font-weight:bold}#index h4 + ul{margin-bottom:.6em}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title"><code>cyzil</code></h1>
</header>
<section id="section-intro">
<p>Cyzil provides tools that enable quick and in-depth analysis of
sequence-sequence models, especially machine translation models. It contains
a Cython module that provides fast computation of standard metrics such as
BLEU score.</p>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">&#34;&#34;&#34;
Cyzil provides tools that enable quick and in-depth analysis of
sequence-sequence models, especially machine translation models. It contains
a Cython module that provides fast computation of standard metrics such as
BLEU score.
&#34;&#34;&#34;

from bleu import bleu_sentence, bleu_corpus, bleu_points
from edit_distance import edit_distance_sentence, edit_distance_corpus, edit_distance_points

__all__ = [
    &#34;bleu_sentence&#34;,
    &#34;bleu_corpus&#34;,
    &#34;bleu_points&#34;,
    &#34;edit_distance_sentence&#34;,
    &#34;edit_distance_corpus&#34;,
    &#34;edit_distance_points&#34;
]</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="cyzil.bleu_corpus"><code class="name flex">
<span>def <span class="ident">bleu_corpus</span></span>(<span>...)</span>
</code></dt>
<dd>
<section class="desc"><p>Computes corpus-level BLEU score.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>reference_corpus</code></strong>, <strong><code>candidate_corpus</code></strong> :&ensp;<code>list</code></dt>
<dd>A corpus contains a list of strings as individual sentences. Reference
is assumed to be correct sequences, and candidateis is assumed to be
sequences generated by some model. It assumes that a pair of reference
and candidate is stored at the same index.</dd>
<dt><strong><code>max_ngram</code></strong> :&ensp;<code>int</code></dt>
<dd>The maximum order of ngram to compute the score.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><strong><code>corpus_score</code></strong> :&ensp;<code>list</code></dt>
<dd>A list of 3 decimal values: the first value is the precision, the
second value is brevity penalty, and the last value is bleu score,
which is the product of precision and brevity penalty.</dd>
</dl>
<h2 id="example">Example</h2>
<pre><code>&gt;&gt;&gt; from cyzil import bleu_corpus
&gt;&gt;&gt;  reference_corpus = [['this', 'is', 'a', 'test', 'sentence'],
                         ['I', 'see', 'an', 'apple', 'and', 'a', 'cat']]


 candidate_corpus = [['this', 'is', 'a', 'test', 'sentence'],
                     ['I', 'see', 'an', 'apple', 'and', 'a', 'dog']]

&gt;&gt;&gt; bleu_corpus(reference_corpus, candidate_corpus, 4)
[0.8806841373443604, 1.0, 0.8806841373443604]
</code></pre></section>
</dd>
<dt id="cyzil.bleu_points"><code class="name flex">
<span>def <span class="ident">bleu_points</span></span>(<span>...)</span>
</code></dt>
<dd>
<section class="desc"><p>Computes BLEU score for each reference-candiate pair in corpus.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>reference_corpus</code></strong>, <strong><code>candidate_corpus</code></strong> :&ensp;<code>list</code></dt>
<dd>A corpus contains a list of strings as individual sentences. Reference
is assumed to be correct sequences, and candidateis is assumed to be
sequences generated by some model. It assumes that a pair of reference
and candidate is stored at the same index.</dd>
<dt><strong><code>max_ngram</code></strong> :&ensp;<code>int</code></dt>
<dd>The maximum order of ngram to compute the score.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><strong><code>points</code></strong> :&ensp;<code>list</code> of <code>bleu</code> <code>score</code> [<code>number</code> of <code>pairs</code> <code>in</code> <code>corpus</code>, <code>3</code>]</dt>
<dd>A 2-dimensional list that contains precision, brevity penalty, and
bleu score for each reference-candidate pair, where each row corresponds
to each pair.</dd>
</dl>
<h2 id="example">Example</h2>
<pre><code>&gt;&gt;&gt; from cyzil import bleu_points
&gt;&gt;&gt;  reference_corpus = [['this', 'is', 'a', 'test', 'sentence'],
                         ['I', 'see', 'an', 'apple', 'and', 'a', 'cat']]


 candidate_corpus = [['this', 'is', 'a', 'test', 'sentence'],
                     ['I', 'see', 'an', 'apple', 'and', 'a', 'dog']]

&gt;&gt;&gt; bleu_points(reference_corpus, candidate_corpus, 4)
[[1.0, 1.0, 1.0], [0.809106707572937, 1.0, 0.809106707572937]]
</code></pre></section>
</dd>
<dt id="cyzil.bleu_sentence"><code class="name flex">
<span>def <span class="ident">bleu_sentence</span></span>(<span>...)</span>
</code></dt>
<dd>
<section class="desc"><p>Computes sentence-level BLEU score.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>reference</code></strong>, <strong><code>candiate</code></strong> :&ensp;<code>list</code></dt>
<dd>A tokenized sentence stored as a list of strings. Reference is assumed
to be a correct sequence, and candidateis is assumed to be a sequence
generated by some model.</dd>
<dt><strong><code>max_ngram</code></strong> :&ensp;<code>int</code></dt>
<dd>The maximum order of ngram to compute the score.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>list</code></dt>
<dd>A list of 3 decimal values: the first value is the precision, the
second value is brevity penalty, and the last value is bleu score,
which is the product of precision and brevity penalty.</dd>
</dl>
<h2 id="example">Example</h2>
<pre><code>&gt;&gt;&gt; from cyzil import bleu_sentence
&gt;&gt;&gt; bleu_sentence(['this', 'is', 'a', 'test', 'sentence'],
                  ['this', 'is', 'a', 'test', 'sentence'])
</code></pre>
<p>[1.0, 1.0, 1.0]</p></section>
</dd>
<dt id="cyzil.edit_distance_corpus"><code class="name flex">
<span>def <span class="ident">edit_distance_corpus</span></span>(<span>...)</span>
</code></dt>
<dd>
<section class="desc"><p>Computes corpus-level Edit distance (Levenshtein distance).</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>reference_corpus</code></strong>, <strong><code>candidate_corpus</code></strong> :&ensp;<code>list</code></dt>
<dd>A corpus contains a list of strings as individual sentences. Reference
is assumed to be correct sequences, and candidateis is assumed to be
sequences generated by some model. It assumes that a pair of reference
and candidate is stored at the same index.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><strong><code>corpus_score</code></strong> :&ensp;<code>list</code></dt>
<dd>A list of 2 decimal values: the first value is the mean edit distance
between reference corpus and candidate corpus and the second value is
the mean normalized edit distance, i.e. the sum of edit distance for
each pair divided by the length of the reference.</dd>
</dl>
<h2 id="notes">Notes</h2>
<p>This method computes token-level edit distance. In other words, it's
different from character-level distance. For example, the token-level edit
distance between ['I', 'have', 'a', 'pen'] and ['I', 'have', 'a', 'dog'] is
1 because only one <code>editing</code> happens between 'pen' and 'dog'. For
character-level edit distance, please refer to
<a href="https://pypi.org/project/python-Levenshtein/.">https://pypi.org/project/python-Levenshtein/.</a></p>
<h2 id="example">Example</h2>
<pre><code>&gt;&gt;&gt; from cyzil import edit_distance_corpus
&gt;&gt;&gt;  reference_corpus = [['this', 'is', 'a', 'test', 'sentence'],
                         ['I', 'see', 'an', 'apple', 'and', 'a', 'cat']]


 candidate_corpus = [['this', 'is', 'a', 'test', 'sentence'],
                     ['I', 'see', 'an', 'apple', 'and', 'a', 'dog']]

&gt;&gt;&gt; edit_distance_corpus(reference_corpus, candidate_corpus)
[0.5, 0.0714285746216774]
</code></pre></section>
</dd>
<dt id="cyzil.edit_distance_points"><code class="name flex">
<span>def <span class="ident">edit_distance_points</span></span>(<span>...)</span>
</code></dt>
<dd>
<section class="desc"><p>Computes Edit distance (Levenshtein distance) for each
reference-candiate pair in corpus.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>reference_corpus</code></strong>, <strong><code>candidate_corpus</code></strong> :&ensp;<code>list</code></dt>
<dd>A corpus contains a list of strings as individual sentences. Reference
is assumed to be correct sequences, and candidateis is assumed to be
sequences generated by some model. It assumes that a pair of reference
and candidate is stored at the same index.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><strong><code>points</code></strong> :&ensp;<code>list</code> of <code>edit</code> <code>distance</code> [<code>number</code> of <code>pairs</code> <code>in</code> <code>corpus</code>, <code>2</code>]</dt>
<dd>A 2-dimensional list that contains edit distance and normalized edit
distance (i.e. edit distance divided by the length of reference) for
each reference-candidate pair, where each row corresponds to each pair.</dd>
</dl>
<h2 id="notes">Notes</h2>
<p>This method computes token-level edit distance. In other words, it's
different from character-level distance. For example, the token-level edit
distance between ['I', 'have', 'a', 'pen'] and ['I', 'have', 'a', 'dog'] is
1 because only one <code>editing</code> happens between 'pen' and 'dog'. For
character-level edit distance, please refer to
<a href="https://pypi.org/project/python-Levenshtein/.">https://pypi.org/project/python-Levenshtein/.</a></p>
<h2 id="example">Example</h2>
<pre><code>&gt;&gt;&gt; from cyzil import edit_distance_points
&gt;&gt;&gt; reference_corpus = [['this', 'is', 'a', 'test', 'sentence'],
                        ['I', 'see', 'an', 'apple', 'and', 'a', 'cat']]


candidate_corpus = [['this', 'is', 'a', 'test', 'sentence'],
                    ['I', 'see', 'an', 'apple', 'and', 'a', 'dog']]

&gt;&gt;&gt; edit_distance_points(reference_corpus, candidate_corpus)
[[0.0, 0.0], [1.0, 0.1428571492433548]]
</code></pre></section>
</dd>
<dt id="cyzil.edit_distance_sentence"><code class="name flex">
<span>def <span class="ident">edit_distance_sentence</span></span>(<span>...)</span>
</code></dt>
<dd>
<section class="desc"><p>Computes sentence-level Edit distance (Levenshtein distance).</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>sen1</code></strong>, <strong><code>sen2</code></strong> :&ensp;<code>list</code></dt>
<dd>A tokenized sentence stored as a list of strings.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><strong><code>distance</code></strong> :&ensp;<code>int</code></dt>
<dd>edit distance between a reference sentence and a candidate sentence.</dd>
</dl>
<h2 id="notes">Notes</h2>
<p>This method computes token-level edit distance. In other words, it's
different from character-level distance. For example, the token-level edit
distance between ['I', 'have', 'a', 'pen'] and ['I', 'have', 'a', 'dog'] is
1 because only one <code>editing</code> happens between 'pen' and 'dog'. For
character-level edit distance, please refer to
<a href="https://pypi.org/project/python-Levenshtein/.">https://pypi.org/project/python-Levenshtein/.</a></p>
<h2 id="example">Example</h2>
<pre><code>&gt;&gt;&gt; from cyzil import edit_distance_sentence
&gt;&gt;&gt; edit_distance_sentence(['this', 'is', 'a', 'test', 'sentence'],
                           ['this', 'is', 'a', 'test', 'sentence'])
</code></pre>
<dl>
<dt><strong><code>0</code></strong></dt>
<dd>&nbsp;</dd>
</dl></section>
</dd>
</dl>
</section>
<section>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="cyzil.bleu_corpus" href="#cyzil.bleu_corpus">bleu_corpus</a></code></li>
<li><code><a title="cyzil.bleu_points" href="#cyzil.bleu_points">bleu_points</a></code></li>
<li><code><a title="cyzil.bleu_sentence" href="#cyzil.bleu_sentence">bleu_sentence</a></code></li>
<li><code><a title="cyzil.edit_distance_corpus" href="#cyzil.edit_distance_corpus">edit_distance_corpus</a></code></li>
<li><code><a title="cyzil.edit_distance_points" href="#cyzil.edit_distance_points">edit_distance_points</a></code></li>
<li><code><a title="cyzil.edit_distance_sentence" href="#cyzil.edit_distance_sentence">edit_distance_sentence</a></code></li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.7.5</a>.</p>
</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad()</script>
</body>
</html>
